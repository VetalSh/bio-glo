!function(e){var t={};function n(o){if(t[o])return t[o].exports;var c=t[o]={i:o,l:!1,exports:{}};return e[o].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(o,c,function(t){return e[t]}.bind(null,c));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=()=>{const e=document.getElementById("form1"),t=document.getElementById("form2"),n=document.createElement("div");n.style.cssText="font-size: 2rem;";e.addEventListener("input",e=>{let t=e.target;t.matches("#phone_3")&&(t.value=t.value.replace(/(?<!^)\+|[^\d+]/g,""))}),t.addEventListener("input",e=>{let t=e.target;t.matches("#phone_2")?t.value=t.value.replace(/(?<!^)\+|[^\d+]/g,""):t.matches("#name_2")&&(t.value=t.value.replace(/[^а-яё\s]/gi,""))});const o=()=>{n.textContent=""},c=()=>{document.getElementById("phone_3").value=""};e.addEventListener("submit",t=>{t.preventDefault(),e.appendChild(n),n.textContent="Идет отправка...";const l=new FormData(e);let a={};l.forEach((e,t)=>{a[t]=e}),s(a).then(e=>{if(200!==e.status)throw new Error("status network not 200");n.textContent="Спасибо! Мы скоро с вами свяжемся!",c(),setTimeout(o,3e3)}).catch(e=>{console.error(e),n.textContent="Что-то пошло не так...",c(),setTimeout(o,3e3)})});const l=()=>{const e=document.getElementById("name_2"),t=document.getElementById("phone_2");e.value="",t.value=""};t.addEventListener("submit",e=>{e.preventDefault(),t.appendChild(n),n.textContent="Идет отправка...";const c=new FormData(t);let a={};c.forEach((e,t)=>{a[t]=e}),s(a).then(e=>{if(200!==e.status)throw new Error("status network not 200");n.textContent="Спасибо! Мы скоро с вами свяжемся!",l(),setTimeout(o,3e3)}).catch(e=>{console.error(e),n.textContent="Что-то пошло не так...",l(),setTimeout(o,3e3)})});const s=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})};var c=()=>{const e=document.getElementById("accordion-two"),t=document.getElementById("headingOne-two"),n=document.getElementById("headingTwo-two"),o=document.getElementById("headingThree-two"),c=document.getElementById("collapseOne-two"),l=document.getElementById("collapseTwo-two"),s=document.getElementById("collapseThree-two");let a=[c,l,s];const d=()=>{a.forEach(e=>{e.classList.remove("in")})};e.addEventListener("click",e=>{e.preventDefault();let a=e.target;a=a.closest(".panel-heading"),a===t?(d(),c.classList.add("in")):a===n?(d(),l.classList.add("in")):a===o&&(d(),s.classList.add("in"))})};var l=()=>{const e=document.getElementById("accordion"),t=document.getElementById("headingOne"),n=document.getElementById("headingTwo"),o=document.getElementById("headingThree"),c=document.getElementById("headingFour"),l=document.getElementById("collapseOne"),s=document.getElementById("collapseTwo"),a=document.getElementById("collapseThree"),d=document.getElementById("collapseFour");let r=[l,s,a,d];const u=()=>{r.forEach(e=>{e.classList.remove("in")})};e.addEventListener("click",e=>{e.preventDefault();let r=e.target,i=r.closest(".panel-heading"),m=r.closest(".construct-btn");m&&(m=m.getAttribute("href")),i===t?(u(),l.classList.add("in")):i===n||"#collapseTwo"===m?(u(),s.classList.add("in")):i===o||"#collapseThree"===m?(u(),a.classList.add("in")):i!==c&&"#collapseFour"!==m||(u(),d.classList.add("in"))})};var s=()=>{const e=[1e4,15e3],t=[2e3,3e3],n=[3e3,5e3,4500,7500],o=[1e3,2e3],c={totalPrice:0,typeOfSeptic:"",optionsOfSeptic:[],bottomWell:"",distance:0},l=document.getElementById("calc-form"),s=document.createElement("div");s.style.cssText="font-size: 2rem;";const a=document.getElementById("accordion"),d=document.getElementById("myonoffswitch"),r=document.getElementById("myonoffswitch-two"),u=document.querySelectorAll(".onoffswitch-label"),i=document.querySelector(".second-well"),m=document.getElementById("calc-result"),p=document.querySelectorAll(".form-control"),y=document.getElementById("distance");let h=[];const v=()=>{p.forEach((e,t)=>{h[t]=e.value}),c.optionsOfSeptic=h};v();const f=()=>{let l=0;const s=()=>{"2 метра"===h[0]&&(l+=t[0]),"2 штуки"===h[1]&&(l+=n[0]),"3 штуки"===h[1]&&(l+=n[1])};d.checked?(l+=e[0],s(),c.typeOfSeptic="Однокамерный септик"):(l+=e[1],s(),"2 метра"===h[2]&&(l+=t[1]),"2 штуки"===h[3]&&(l+=n[2]),"3 штуки"===h[3]&&(l+=n[3]),c.typeOfSeptic="Двухкамерный септик"),r.checked&&d.checked?(l+=o[0],c.bottomWell="Есть днище колодца"):r.checked&&!d.checked?(l+=o[1],c.bottomWell="Есть днище колодца"):c.bottomWell="Нет днища колодца",m.value=l,c.totalPrice=l};f();const g=()=>{d.checked?i.style.display="none":i.style.display="block"};u.forEach(e=>{e.addEventListener("click",()=>{e.previousElementSibling.checked?(e.previousElementSibling.checked=!1,g(),f()):(e.previousElementSibling.checked=!0,g(),f())})});a.addEventListener("change",()=>{const e=event.target;p.forEach(t=>{e&&v()}),f(),c.distance=y.value});l.addEventListener("input",e=>{let t=e.target;t.matches("#phone_1")?t.value=t.value.replace(/(?<!^)\+|[^\d+]/g,""):t.matches("#name_1")&&(t.value=t.value.replace(/[^а-яё\s]/gi,""))});const E=()=>{s.textContent=""},b=()=>{const e=document.getElementById("name_1"),t=document.getElementById("phone_1");e.value="",t.value=""};l.addEventListener("submit",e=>{e.preventDefault(),l.appendChild(s),s.textContent="Идет отправка...";const t=new FormData(l);let n={};t.forEach((e,t)=>{n[t]=e}),n.order=c,w(n).then(e=>{if(200!==e.status)throw new Error("status network not 200");s.textContent="Спасибо! Мы скоро с вами свяжемся!",b(),setTimeout(E,3e3)}).catch(e=>{console.error(e),s.textContent="Что-то пошло не так...",b(),setTimeout(E,3e3)})});const w=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})};var a=()=>{const e=document.getElementById("discount-form"),t=document.getElementById("consultation-form"),n=document.getElementById("message");let o;n.addEventListener("input",()=>{o=n.value});const c=document.createElement("div");c.style.cssText="font-size: 2rem;";e.addEventListener("input",e=>{let t=e.target;t.matches("#phone_11")?t.value=t.value.replace(/(?<!^)\+|[^\d+]/g,""):t.matches("#name_11")&&(t.value=t.value.replace(/[^а-яё\s]/gi,""))}),t.addEventListener("input",e=>{let t=e.target;t.matches("#phone_13")?t.value=t.value.replace(/(?<!^)\+|[^\d+]/g,""):t.matches("#name_13")&&(t.value=t.value.replace(/[^а-яё\s]/gi,""))});const l=()=>{c.textContent=""},s=()=>{const e=document.getElementById("name_11"),t=document.getElementById("phone_11");e.value="",t.value=""};e.addEventListener("submit",t=>{t.preventDefault(),e.appendChild(c),c.textContent="Идет отправка...";const n=new FormData(e);let o={};n.forEach((e,t)=>{o[t]=e}),d(o).then(e=>{if(200!==e.status)throw new Error("status network not 200");c.textContent="Спасибо! Мы скоро с вами свяжемся!",s(),setTimeout(l,3e3)}).catch(e=>{console.error(e),c.textContent="Что-то пошло не так...",s(),setTimeout(l,3e3)})});const a=()=>{const e=document.getElementById("name_13"),t=document.getElementById("phone_13");e.value="",t.value=""};t.addEventListener("submit",e=>{e.preventDefault(),t.appendChild(c),c.textContent="Идет отправка...";const n=new FormData(t);let s={};n.forEach((e,t)=>{s[t]=e}),s.userQuestion=o,d(s).then(e=>{if(200!==e.status)throw new Error("status network not 200");c.textContent="Спасибо! Мы скоро с вами свяжемся!",a(),setTimeout(l,3e3)}).catch(e=>{console.error(e),c.textContent="Что-то пошло не так...",a(),setTimeout(l,3e3)})});const d=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"})};(()=>{const e=document.querySelector("body"),t=document.querySelector(".popup-call"),n=document.querySelector(".popup-close"),o=document.querySelector(".add-sentence-btn"),c=document.querySelectorAll(".hidden-item"),l=document.querySelector(".popup-discount"),s=document.querySelector(".popup-check"),a=document.querySelector(".popup-consultation");e.addEventListener("click",e=>{let d=e.target;if(d.matches(".add-sentence-btn")&&(o.style.display="none",c.forEach(e=>{e.classList.remove("visible-sm-block"),e.classList.remove("hidden")})),d.matches(".discount-btn"))l.style.display="block";else if(d.matches(".check-btn"))s.style.display="block";else{if(!d.matches(".call-btn"))return d.matches(".consultation-btn")?(e.preventDefault(),void(a.style.display="block")):d===n||d.matches(".popup-close")?(e.preventDefault(),t.style.display="none",l.style.display="none",s.style.display="none",void(a.style.display="none")):d.matches(".popup-discount")||d.matches(".popup-check")||d.matches(".popup-call")||d.matches(".popup-consultation")?(t.style.display="none",l.style.display="none",s.style.display="none",void(a.style.display="none")):void 0;t.style.display="block"}})})(),o(),c(),l(),s(),a()}]);